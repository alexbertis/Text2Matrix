#pragma once

#include <Arduino.h>


// The 8x8 arrays for ASCII codes >= 64
const uint8_t IMAGES[][8] = {
{
    0b00000000,0b00000000,0b01110000,0b10001000,0b10101000,0b10111000,0b10000000,0b01111000},{
    0b00000000,0b01110000,0b10001000,0b10001000,0b11111000,0b10001000,0b10001000,0b10001000},{
    0b00000000,0b11110000,0b10001000,0b10001000,0b11110000,0b10001000,0b10001000,0b11110000},{
    0b00000000,0b01111000,0b10000000,0b10000000,0b10000000,0b10000000,0b10000000,0b01111000},{
    0b00000000,0b11100000,0b10010000,0b10001000,0b10001000,0b10001000,0b10010000,0b11100000},{
    0b00000000,0b11111000,0b10000000,0b10000000,0b11110000,0b10000000,0b10000000,0b11111000},{
    0b00000000,0b11111000,0b10000000,0b10000000,0b11110000,0b10000000,0b10000000,0b10000000},{
    0b00000000,0b01111000,0b10000000,0b10000000,0b10111000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b10001000,0b10001000,0b10001000,0b11111000,0b10001000,0b10001000,0b10001000},{
    0b00000000,0b11111000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000,0b11111000},{
    0b00000000,0b11111000,0b00001000,0b00001000,0b00001000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b10011000,0b10110000,0b11100000,0b11000000,0b11100000,0b10110000,0b10011000},{
    0b00000000,0b10000000,0b10000000,0b10000000,0b10000000,0b10000000,0b10000000,0b11111000},{
    0b00000000,0b10001000,0b11011000,0b11111000,0b10101000,0b10001000,0b10001000,0b10001000},{
    0b00000000,0b10001000,0b11001000,0b11101000,0b11111000,0b10111000,0b10011000,0b10001000},{
    0b00000000,0b01110000,0b10001000,0b10001000,0b10001000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b11110000,0b10001000,0b10001000,0b11110000,0b10000000,0b10000000,0b10000000},{
    0b00000000,0b01110000,0b10001000,0b10001000,0b10001000,0b10101000,0b10010000,0b01101000},{
    0b00000000,0b11110000,0b10001000,0b10001000,0b11110000,0b10100000,0b10010000,0b10001000},{
    0b00000000,0b01111000,0b10000000,0b10000000,0b01110000,0b00001000,0b00001000,0b11110000},{
    0b00000000,0b11111000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000},{
    0b00000000,0b10001000,0b10001000,0b10001000,0b10001000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b10001000,0b10001000,0b10001000,0b10001000,0b11011000,0b01110000,0b00100000},{
    0b00000000,0b10001000,0b10001000,0b10001000,0b10001000,0b10101000,0b11011000,0b10001000},{
    0b00000000,0b10001000,0b10001000,0b01010000,0b00100000,0b01010000,0b10001000,0b10001000},{
    0b00000000,0b10001000,0b10001000,0b11011000,0b01110000,0b00100000,0b00100000,0b00100000},{
    0b00000000,0b11111000,0b00001000,0b00010000,0b00100000,0b01000000,0b10000000,0b11111000},{
    0b00000000,0b01110000,0b01000000,0b01000000,0b01000000,0b01000000,0b01000000,0b01110000},{
    0b00000000,0b01000000,0b01000000,0b00100000,0b00100000,0b00100000,0b00010000,0b00010000},{
    0b00000000,0b01110000,0b00010000,0b00010000,0b00010000,0b00010000,0b00010000,0b01110000},{
    0b00000000,0b00100000,0b01010000,0b10001000,0b00000000,0b00000000,0b00000000,0b00000000},{
    0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b11111000},{
    0b00000000,0b00100000,0b00100000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000},{
    0b00000000,0b00000000,0b00000000,0b00110000,0b00001000,0b00111000,0b01001000,0b00111000},{
    0b00000000,0b00000000,0b01000000,0b01000000,0b01110000,0b01001000,0b01001000,0b01110000},{
    0b00000000,0b00000000,0b00000000,0b00111000,0b01000000,0b01000000,0b01000000,0b00111000},{
    0b00000000,0b00001000,0b00001000,0b00001000,0b00111000,0b01001000,0b01001000,0b00111000},{
    0b00000000,0b00000000,0b00000000,0b00110000,0b01001000,0b01110000,0b01000000,0b00111000},{
    0b00000000,0b00000000,0b00011000,0b00100000,0b01110000,0b00100000,0b00100000,0b00100000},{
    0b00000000,0b00000000,0b00111000,0b01001000,0b01001000,0b00111000,0b00001000,0b01110000},{
    0b00000000,0b00000000,0b01000000,0b01000000,0b01010000,0b01101000,0b01001000,0b01001000},{
    0b00000000,0b00000000,0b00100000,0b00000000,0b00100000,0b00100000,0b00100000,0b00011000},{
    0b00000000,0b00000000,0b00001000,0b00000000,0b00001000,0b00001000,0b01001000,0b00110000},{
    0b00000000,0b00000000,0b01000000,0b01001000,0b01010000,0b01100000,0b01010000,0b01001000},{
    0b00000000,0b00000000,0b01000000,0b01000000,0b01000000,0b01000000,0b01000000,0b00111000},{
    0b00000000,0b00000000,0b00000000,0b00000000,0b11110000,0b10101000,0b10101000,0b10101000},{
    0b00000000,0b00000000,0b00000000,0b00000000,0b01110000,0b01001000,0b01001000,0b01001000},{
    0b00000000,0b00000000,0b00000000,0b01110000,0b10001000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b00000000,0b00000000,0b01110000,0b01001000,0b01110000,0b01000000,0b01000000},{
    0b00000000,0b00000000,0b00000000,0b00111000,0b01001000,0b00111000,0b00001000,0b00001000},{
    0b00000000,0b00000000,0b00000000,0b01011000,0b01100000,0b01000000,0b01000000,0b01000000},{
    0b00000000,0b00000000,0b00000000,0b00111000,0b01000000,0b00110000,0b00001000,0b01110000},{
    0b00000000,0b00100000,0b00100000,0b01111000,0b00100000,0b00100000,0b00100000,0b00011000},{
    0b00000000,0b00000000,0b00000000,0b10001000,0b10001000,0b10001000,0b10001000,0b01110000},{
    0b00000000,0b00000000,0b00000000,0b10001000,0b10001000,0b10001000,0b01010000,0b00100000},{
    0b00000000,0b00000000,0b00000000,0b10001000,0b10001000,0b10101000,0b10101000,0b01010000},{
    0b00000000,0b00000000,0b00000000,0b10001000,0b01010000,0b00100000,0b01010000,0b10001000},{
    0b00000000,0b00000000,0b10010000,0b10010000,0b10010000,0b01110000,0b00010000,0b11100000},{
    0b00000000,0b00000000,0b00000000,0b11111000,0b00010000,0b00100000,0b01000000,0b11111000},{
    0b00000000,0b00110000,0b01000000,0b01000000,0b10000000,0b01000000,0b01000000,0b00110000},{
    0b00000000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000,0b00100000},{
    0b00000000,0b01100000,0b00010000,0b00010000,0b00001000,0b00010000,0b00010000,0b01100000},{
    0b00000000,0b00000000,0b00000000,0b01000000,0b10101000,0b00010000,0b00000000,0b00000000},{
    0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000}
};


class Text2Matrix
{
public:
    Text2Matrix(int rPins[8], int cPins[8], boolean inv);   // Constructor
    void displayTextInMatrix(String text, float speed);     // Display function

private:
	uint8_t rowPins[8];
    uint8_t colPins[8];
    boolean invert;

    void drawRow(int row, byte contents);
    void drawMatrix(byte img[8], int totalMs);


    byte** textToMatrix(String text);
    void displayArrayMoving(byte** img, float speed);

};